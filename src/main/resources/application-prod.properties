# ===========================================
# Teatro Real Backend - Produccion (Render)
# ===========================================

spring.application.name=teatro-real-backend

# ===========================================
# H2 en memoria (Render no tiene disco persistente)
# ===========================================
spring.datasource.url=jdbc:h2:mem:teatroreal;DB_CLOSE_DELAY=-1
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# ===========================================
# JPA / Hibernate
# ===========================================
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false

# ===========================================
# Flyway (migraciones)
# ===========================================
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
spring.flyway.baseline-on-migrate=true

# ===========================================
# Servidor
# ===========================================
server.port=${PORT:8080}

# ===========================================
# Seguridad
# ===========================================
jwt.secret=${JWT_SECRET:teatro-real-secret-key-change-me}
jwt.expiration=86400000

# ===========================================
# CORS (abierto para desarrollo/demo)
# ===========================================
cors.allowed-origins=${CORS_ORIGINS:*}

# ===========================================
# Logging (menos verboso en prod)
# ===========================================
logging.level.root=INFO
logging.level.com.teatroreal=INFO
logging.level.org.springframework.security=WARN

# Desactivar consola H2 en produccion
spring.h2.console.enabled=false

# ===========================================
# Upload de archivos
# ===========================================
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
app.upload.max-size=10485760

# ===========================================
# OpenAPI / Swagger
# ===========================================
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
